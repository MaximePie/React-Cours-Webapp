<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8"/>
    <title>Hello React</title>
    <!-- Library -->
    <script src="https://unpkg.com/react@16/umd/react.development.js"></script>

    <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>

    <!-- babel => compilation du JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>

<body>
<div id="root"></div>
<script type="text/babel">

    function UserAge() {

        const age = React.useContext(ageContext);

        return (
            <p>Voici l'âge de l'utilisateur {age}</p>
        )
    }


    function Profil() {

        const age = React.useContext(ageContext);

        return (
            <div>
                <p>Ceci est un profil. Afficher l'âge ici : {age}</p>
                <div>
                    <UserAge/>
                </div>
            </div>
        )
    }

    const ageContext = React.createContext(0);

    function App() {

        const [age, setAge] = React.useState(48);

        return (
          <ageContext.Provider value={age}>
            <div>
                <a href="https://fr.reactjs.org/docs/context.html">Documentation sur l'utilisation des Contextes</a>
                <p>Créer un contexte qui contient l'âge de l'utilisateur et qui est accessible à tous les composants enfants</p>

                <p>Récupérer et afficher la valeur de l'âge de l'utilisateur dans le composant Profil</p>
                <p>Récupérer et afficher la valeur de l'âge de l'utilisateur dans le composant UserAge</p>
                <Profil/>

                <p>Créer un formulaire dans App de manière à ce qu'il modifie un state age de App</p>
                <p>Quand le state age de l'App change, alors l'âge s'affiche correctement dans tous les composants qui l'utilisent</p>
                <label>
                    Age
                    <input type="text" onChange={(event) => setAge(event.target.value)} />
                </label>
            </div>
          </ageContext.Provider>
        )
    }

    // Rendu dans le DOM
    ReactDOM.render(
        <App/>,
        document.getElementById('root')
    );
</script>
</body>

</html>
